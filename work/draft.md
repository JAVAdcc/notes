## 3.26

需要明确一下思路：

### infd框架外的预处理

首先是数据集下载
> 数据集就会提供图片、目标（鸟）的掩码、名称（caption暂时还没用）

然后数据读取，那就是
- 把mask以外的都设绿
- 对mask用vtracer 存储曲线

最终这一部分要提供给infd两个输入 图片和掩码的曲线

### infd框架内处理 

输入：
- 鸟（背景绿幕）作为vae的输入
- 鸟的mask的对应坐标 用于给渲染器查询掩码内的像素
  
期望输出：
查询的掩码坐标内最终呈现出一只鸟

### 具体的infd训练&推理

diffusion应该不用train 只要输入鸟的图片train一个VAE
把vae的模型参数保存为save/ae_custom下的last-model.pth 

推理阶段就是 输入一张鸟的图片 用预训练的vae生成网格场用掩码的坐标查询对应的rgb 得到输出 改变查询的范围大小 看看输出的变化

**思路问题**
- vae训练比较简单，但是跑推理可能要自己组织一下，infd本身没有设计检验vae的方法，那就要自己加载模型，加载数据，控制查询的像素点，保存输出，感觉都很麻烦

**技术问题**
- 预处理部分图像读取处理输出的操作没实操过，得练一练
- 预处理部分需要看vtracer的用法&如何保存获得的贝赛尔曲线
- 不知道infd渲染部分控制查询坐标的范围是怎么写的（infd训练和生成流程肯定都是直接查整张图的，但是我们的要求好像是查一部份坐标）
- 不太会用贝赛尔曲线 不知道怎么拉扯曲线然后获得曲线内的坐标
- infd数据加载等一系列流程都很不熟悉



